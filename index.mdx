import { Appear, Notes } from 'mdx-deck'
import { Invert, Split } from 'mdx-deck/layouts'
export { future as theme } from 'mdx-deck/themes' 
export { components } from 'mdx-deck-code-surfer'

export default Split

![](imgs/logo.png)

# React Hooks 

---

export default Invert

Antes de mostrar o hooks, vamos falar um pouco <br/> sobre **mixins** e **pure functions**

<Notes>
  <ul>
    <li>Falar sobre a importância de entender alguns mecanismos atuais para entender o hook</li>
  </ul>
</Notes>

---

export default Split

Alguém aqui lembra sobre mixins?

<Appear>
    <div>É uma forma de poder compartilhar "lifecycle" entre os componentes, podendo reutilizar vários casos comuns. A primeira vista parecia ser uma boa ideia.</div>
</Appear>

<Notes>
  <ul>
    <li>Mixins já vem desde da criação do react</li>
    <li>Quando o react ainda era novo em 2014</li>
  </ul>
</Notes>

---

```javascript Exemplo de mixins
var SubscriptionMixin = {
  getInitialState: function() {
    return {
      comments: DataSource.getComments()
    };
  },

  componentDidMount: function() {
    DataSource.addChangeListener(this.handleChange);
  },

  componentWillUnmount: function() {
    DataSource.removeChangeListener(this.handleChange);
  },

  handleChange: function() {
    this.setState({
      comments: DataSource.getComments()
    });
  }
};

var CommentList = React.createClass({
  mixins: [SubscriptionMixin],

  render: function() {
    // Reading comments from state managed by mixin.
    var comments = this.state.comments;
    return (
      <div>
        {comments.map(function(comment) {
          return <Comment comment={comment} key={comment.id} />
        })}
      </div>
    )
  }
});

module.exports = CommentList;
----
* > Exemplo de mixin
1:21 > Mixins
2:6 > Initial State
8:14 > Lifecycle em mixins
16:20 > Inclusão de outras funções
24 > Uso de mixin
27:28 > Poderia usar um estado gerado pelo mixin normalmente
```

<Notes>
  <ul>
    <li>É possível iniciar um estado em mixins</li>
    <li>Assim como é possível incluir ciclos de vidas do react</li>
    <li>Além de outras funções caso fosse necessário</li>
  </ul>
</Notes>

---

export default Split


<img height="700px" src="https://media.giphy.com/media/eIPM3j6YXHKXC/giphy.gif"/>

Porém, em pouco tempo descobriram <br/> que eram bastante problemáticos, por causa da sua abordagem

<Appear>
  <div>dependência implícita</div>
  <div>conflito de nomes</div>
  <div>
    <a href='https://bit.ly/2VK97X1' target='__blank'>Mixins Considered Harmful</a><br/>
    by Dan Abramov
  </div>
</Appear>

---

Sobre componentes "puros" (functions)

<Appear>
  <div>São componentes mais "fácil" de escrever, devido a sua leitura</div>
  <div>Porém não é possível utilizar states</div>
  <div>* a não ser se utilizar <a href="https://github.com/acdlite/recompose" target="__blank">recompose</a></div>
  <div>Porém sempre que era necessário usar algum ciclo de vida, tinha que transformar em class</div>
</Appear>

---

```javascript Componentes puros
export default function UmComponentQualquer ({ user }) {

  const name = getName(user);
  const avatar = getAvatar(user);

  return (
    <div>
      <User {...{name, avatar}} />
    </div>
  );
}
----
* > Exemplo de componente puro
```

---

Então vamos finalmente falar sobre o react hooks

É apenas mais uma forma de escrever um componente

---

Motivos do react hooks

<Appear>
  <div>O lifecycle fica bem mais fácil de entender</div>
</Appear>

---

```javascript Sintaxe do react hooks
import React, { useState } from 'react';

function Example() {
  const [count, setCount] = useState(0);

  return (
    <div>
      <p>You clicked {count} times</p>
      <button onClick={() => setCount(count + 1)}>
        Click me
      </button>
    </div>
  );
}
----
* > Exemplo de react hooks
1[5:5], 4 > Uso de hooks para state
8:9 > Utilizando a função de state
```

---

Vantagens do react hooks

<Appear>
  <div>É possivel usar uma abordagem de lifecycle e state dentro de funções pura</div>
  <div>É possivel compartilhar "lifecycles" e comportamentos que são inerentes ao React</div>
  <div>São mais fácil de ler</div>
</Appear>

---

Reescrevendo um componente class para hooks

---

Algumas regras sobre o "hooks"

<Appear>
  <div>Deve ser chamado apenas em "top-level"</div>
</Appear>

---

Algumas observações sobre o "hooks"

<Appear>
  <div>Não vai eliminar o jeito de escrever componentes em class (e eles não tem nem intenção)</div>
  <div>Funciona se usar um componente escrito em hooks, com outros componentes escrito em classes? Sim</div>
  <div>Não precisar começar um projeto novo para começar usar (a não ser que estiver numa versão MUITO antiga do react)</div>
</Appear>